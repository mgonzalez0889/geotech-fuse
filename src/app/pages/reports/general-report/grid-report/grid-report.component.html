<div class="flex flex-col flex-auto w-full">
  <div class="flex flex-wrap w-full mx-auto p-6">

    <div class="w-full">
      <app-header-page [title]="'historical.titlePage' | transloco"></app-header-page>
    </div>

    <div class="flex flex-wrap w-full py-6">
      <div class="w-full overflow-hidden">
        <mat-drawer-container class="flex-auto h-auto md:min-h-180">
          <mat-drawer #drawer mode="side" [(opened)]="opened" position="end"
            class="w-full md:w-128 bg-gray-100 border-none">
            <ng-container *ngIf="opened">
              <app-form-report (emitCloseForm)="this.opened = false"></app-form-report>
            </ng-container>
          </mat-drawer>
          <mat-drawer-content class="bg-card shadow rounded-2xl overflow-hidden">

            <div class="flex border-b p-6 gap-4">
              <button *ngIf="this.historicData.length" [matMenuTriggerFor]="menu" mat-mini-fab
                [matTooltip]="'historical.buttonsPage.buttonDowloand' | transloco" color="accent" (click)="this.downloadReport()">
                <mat-icon svgIcon="sim_card_download"></mat-icon>
              </button>
              <mat-menu #menu="matMenu">
                <button mat-menu-item (click)="downloadReport('csv')">CSV</button>
                <button mat-menu-item (click)="downloadReport('excel')">EXCEL</button>
              </mat-menu>
              <!-- <button *ngIf="this.historicData.length" mat-mini-fab [matTooltip]="'historical.buttonsPage.buttonTimeLine' | transloco" color="accent"
                (click)="this.viewReportTimeLine()">
                <mat-icon svgIcon="feather:map"></mat-icon>
              </button> -->
              <button class="fuse-mat-button-rounded" mat-flat-button color="accent" (click)="this.opened = true;">
                <mat-icon svgIcon="heroicons_outline:view-grid-add"></mat-icon>
                <span class="ml-2">{{'historical.buttonsPage.buttonGenerate' | transloco}}</span>
              </button>
            </div>

            <div>
              <app-table [dataColumn]="this.displayedColumns" [dataRow]="this.historicData"
                [dataOptionTable]="this.optionsTable" [buttonTable]="this.buttonTableOption">
              </app-table>
            </div>

          </mat-drawer-content>

        </mat-drawer-container>
      </div>
    </div>
  </div>
</div>

<!-- <mat-card class="p-8 m-8 text-center" *ngIf="!messageExceedTime">
  <mat-card-title>Aviso</mat-card-title>
  <mat-card-content>
    <p>
      El reporte solicitado cubre un rango de fecha de más de 90 días;
      en ese caso puede solicitarlo a través de nuestros canales de
      atención al cliente.
    </p>
    <p>Telefono: +57 386 0000</p>
    <p>
      Direccion: Carrera 55 #100-51 Centro Empresarial Blue Gardens,
      Barranquilla, Atlántico
    </p>
    <p>Correo: Servicioalcliente@geotech.com.co</p>
  </mat-card-content>
</mat-card> -->