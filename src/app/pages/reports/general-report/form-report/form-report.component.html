<form [formGroup]="this.formReport" (ngSubmit)="onSubmit()">

  <mat-dialog-content>
    <div class="flex flex-col px-8">
      <mat-label mat-dialog-title class="text-3xl py-3 font-extrabold text-center">HISTORICO Y EVENTOS
      </mat-label>
      <mat-label mat-dialog-title>Seleccione el rango de fechas</mat-label>
      <mat-form-field class="fuse-mat-dense flex-auto">
        <mat-date-range-input [rangePicker]="picker">
          <input matStartDate placeholder="Desde" formControlName="date_init" />
          <input matEndDate placeholder="Hasta" formControlName="date_end" />
        </mat-date-range-input>

        <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
        <mat-date-range-picker #picker>
          <!-- <mat-datepicker-actions>
          <div class="inputs" style="display: flex; justify-content: space-between; padding: 10px;">
            <input type="time" matInput>
            <input type="time" matInput>
          </div>

        </mat-datepicker-actions> -->
        </mat-date-range-picker>
      </mat-form-field>
      <mat-label class="mb-3" mat-dialog-title>Buscar por:</mat-label>
      <mat-radio-group [(ngModel)]="selectTrasport" [ngModelOptions]="{standalone: true}" class="mb-3">
        <mat-radio-button class="mr-3" *ngFor="let trasport of listTrasport" (change)="onChangeTrasport($event)"
          [value]="trasport.name">{{ trasport.text }}</mat-radio-button>
      </mat-radio-group>
      <ng-container *ngIf="select">
        <ng-container *ngIf="mobiles$ | async as mobiles">
          <mat-form-field appearance="fill">
            <mat-select multiple formControlName="plates">
              <mat-option [value]="mobile.plate" *ngFor="let mobile of mobiles.data">
                {{ mobile.plate }}</mat-option>
            </mat-select>
          </mat-form-field>
        </ng-container>
      </ng-container>
      <ng-container *ngIf="!select">
        <ng-container *ngIf="fleets$ | async as fleets">
          <mat-form-field appearance="fill">
            <mat-select multiple formControlName="fleets">
              <mat-option [value]="fleet.id" *ngFor="let fleet of fleets.data">
                {{ fleet.name }}</mat-option>
            </mat-select>
          </mat-form-field>
        </ng-container>
      </ng-container>
      <mat-label mat-dialog-title>Seleccione los eventos</mat-label>
      <ng-container *ngIf="events$ | async as events">
        <mat-form-field appearance="fill">
          <mat-select multiple formControlName="events">
            <mat-option [value]="event.event_id" *ngFor="let event of events.data">
              {{ event.event_name }}</mat-option>
          </mat-select>
        </mat-form-field>
      </ng-container>
    </div>
  </mat-dialog-content>

  <mat-dialog-actions>
    <div
      class="flex flex-row items-center justify-end sm:justify-end px-6 py-4 space-x-3 dark:bg-black dark:bg-opacity-10 w-full">
      <button mat-raised-button class="w-1/3" [color]="'warn'" matDialogClose="close">
        Cancelar
      </button>
      <button type="submit" mat-flat-button class="w-1/3" [color]="'primary'" matDialogClose="close">
        Generar
      </button>
    </div>
  </mat-dialog-actions>
</form>